<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quay Số Ngẫu Nhiên</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
        
        table {
            width: 50%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        
        td {
            border: 1px solid #333;
            padding: 10px;
            text-align: center;
            font-size: 24px;
            width: 25%;
            transition: background 0.3s ease-in-out;
        }
        
        .highlight {
            background: yellow;
        }
        
        button {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <h1>Trò Chơi Quay Số Ngẫu Nhiên</h1>
    <button onclick="startLottery()">Bắt đầu quay</button>
    <table id="resultTable">
        <tbody></tbody>
    </table>

    <script>
        const numbers = Array.from({
            length: 100
        }, (_, i) => i + 1);
        const tableBody = document.querySelector("#resultTable tbody");
        let interval;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startLottery() {
            clearInterval(interval);
            let elapsedTime = 0;
            const selectedNumbers = [];
            shuffle(numbers);
            interval = setInterval(() => {
                shuffle(numbers);
                selectedNumbers.length = 0;
                for (let i = 0; i < 15; i++) {
                    selectedNumbers.push(numbers[i]);
                }
                renderTable(selectedNumbers);
                elapsedTime++;
                if (elapsedTime >= 55) {
                    clearInterval(interval);
                }
            }, 100);
        }

        function renderTable(selectedNumbers) {
            tableBody.innerHTML = "";
            let rows = "";
            for (let i = 0; i < selectedNumbers.length; i += 4) {
                rows += `<tr>
                    <td class="highlight">${selectedNumbers[i] || ""}</td>
                    <td class="highlight">${selectedNumbers[i + 1] || ""}</td>
                    <td class="highlight">${selectedNumbers[i + 2] || ""}</td>
                    <td class="highlight">${selectedNumbers[i + 3] || ""}</td>
                </tr>`;
            }
            tableBody.innerHTML = rows;
        }
    </script>
</body>

</html>