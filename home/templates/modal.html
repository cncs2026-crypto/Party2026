<div class="layout-overlay">
</div>
<div class="modal-loading"></div>
<style type="text/css">
    .layout-overlay {
        background-color: #ccc;
        /*or semitransparent image*/
        display: none;
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 100;
        opacity: 0.6;
    }
    
    .modal-loading {
        display: none;
        width: 80px;
        height: 80px;
        position: fixed;
        margin-left: 46%;
        margin-top: 200px;
        z-index: 101;
    }
    
    .modal-loading:after {
        content: " ";
        display: inline-block;
        width: 64px;
        height: 64px;
        margin: 8px;
        border-radius: 50%;
        border: 6px solid #fff;
        border-color: #0d6efd transparent #0d6efd transparent;
        animation: lds-dual-ring 1.2s linear infinite;
    }
    
    @keyframes lds-dual-ring {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
</style>

<style>
    .modal {
        .btn-add-emp,
        .btn-search-emp {
            width: auto;
        }
        .list-group-item {
            cursor: pointer;
            min-width: 9em;
            display: flex;
            label {
                cursor: pointer;
                margin-left: 10px;
            }
            .form-check-input {
                scale: 1.5;
            }
        }
        .img-ticket {
            position: absolute;
            display: flex;
            width: 50em;
            float: right;
            top: 0;
            right: 0;
            .card-img-ticket {
                width: 20em;
                position: absolute;
                right: 0;
                padding: 2px;
                border-radius: 15px;
                top: -6em;
                display: none;
                z-index: 3;
            }
            &:hover .card-img-ticket {
                display: block;
            }
        }
    }
    
    .table {
        tbody,
        td,
        tfoot,
        th,
        thead,
        tr {
            align-content: center;
        }
        td .svg-inline--fa {
            cursor: pointer;
            &:hover {
                scale: 1.3;
            }
        }
    }
    
    .tab-ds-giai {
        padding: 1em;
        .tab-sanchoi {
            tr {
                td {
                    align-content: center;
                    img {
                        display: none;
                        position: absolute;
                        width: 10em;
                        height: auto;
                    }
                }
                .th-chooseimg {
                    width: 17em;
                }
            }
        }
    }
</style>


<!--Modal L·ª±a ch·ªçn s√¢n ch∆°i-->
<div class="modal fade" id="Modal_ChonSanChoi" tabindex="-1" aria-labelledby="Modal_ChonSanChoi" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered modal-xl modal-lg  modal-md ">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title" id="">L·ª±a ch·ªçn s√¢n ch∆°i </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <div class="col-lg-4 col-md-4 col-sm-6 float-left">
                    <label>L·ª±a ch·ªçn h√¨nh n·ªÅn:</label>
                    <select class="form-select form-select-sm1  text-black" onchange="ChangeBackgr(this)">
                        <option value="bg_1.jpg">bg_1.jpg</option>
                        <option value="bg_2.jpg">bg_2.jpg</option>
                        <option value="bg_3.jpg">bg_3.jpg</option>
                        <option value="bg_4.jpg">bg_4.jpg</option>
                        <option value="bg_5.jpg">bg_5.jpg</option>
                        <option value="bg_6.jpg">bg_6.jpg</option>
                        <option value="bg_7.jpg">bg_7.jpg</option>
                        <option value="bg_8.jpg">bg_8.jpg</option>
                        <option value="bg_9.jpg">bg_9.jpg</option>
                        <option value="bg_10.jpg">bg_10.jpg</option>
                        <option value="bg_11.jpg">bg_11.jpg</option>
                        <option value="bg_12.jpg">bg_12.jpg</option>
                        <option value="bg_13.jpg">bg_13.jpg</option>
                        <option value="bg_14.jpg">bg_14.jpg</option>
                        <option value="bg_15.jpg">bg_15.jpg</option>
                        <option value="bg_16.jpg">bg_16.jpg</option>
                        <option value="bg_17.jpg">bg_17.jpg</option>
                        <option value="bg_18.jpg">bg_18.jpg</option>
                        <option value="bg_19.jpg">bg_19.jpg</option>
                        <option value="bg_20.jpg">bg_20.jpg</option>
                        <option value="bg_21.jpg">bg_21.jpg</option>
                        <option value="bg_22.jpg">bg_22.jpg</option>
                        </select>
                </div>
                <br>
                <div class="card-list" id="cardList">
                    <!-- Card items will be inserted dynamically -->

                </div>
            </div>

        </div>
    </div>
</div>

<style>
    #Modal_ChonSanChoi {
        .modal-title {
            color: black !important;
        }
        .modal-body {
            justify-items: center;
            align-content: center;
            min-height: 28em;
            overflow: hidden;
            h1 {
                margin: 20px 0;
                color: #333;
                position: absolute;
                font-size: 2em !important;
                font-weight: 600;
            }
            .card-list {
                display: flex;
                gap: 20px;
                flex-wrap: wrap;
                justify-content: center;
                .card {
                    width: 200px;
                    height: 300px;
                    border-radius: 15px;
                    background: rgb(31 40 89);
                    opacity: 0.6;
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    cursor: pointer;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    color: #fff;
                    text-align: center;
                    transition: transform 0.3s, box-shadow 0.3s;
                    padding: 2em;
                    background-image: url(../static/img/bg_tet/remdo4.jpg) !important;
                    background-size: 100% !important;
                    background-size: cover !important;
                    background-repeat: no-repeat !important;
                    background-position: center center !important;
                    pre {
                        white-space: pre-wrap;
                        font-size: 1.5em;
                    }
                    &::after {
                        content: '';
                        position: absolute;
                        top: 100%;
                        left: 0;
                        width: 100%;
                        height: 200%;
                        background: linear-gradient(to bottom, rgba(74, 144, 226, 0.5), transparent);
                        transform: scaleY(-1);
                        border-radius: 10px;
                        z-index: -1;
                    }
                    &:hover {
                        transform: translateY(-10px);
                        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
                        background-color: #1e2759;
                        opacity: 1;
                    }
                    .main-card {
                        margin-top: 40px;
                        width: 400px;
                        height: 500px;
                        border-radius: 20px;
                        background: rgba(255, 255, 255, 0.25);
                        backdrop-filter: blur(15px);
                        -webkit-backdrop-filter: blur(15px);
                        border: 1px solid rgba(255, 255, 255, 0.4);
                        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
                        display: none;
                        flex-direction: column;
                        justify-content: center;
                        align-items: center;
                        color: #fff;
                        text-align: center;
                    }
                    .main-card h2 {
                        margin-bottom: 10px;
                    }
                    .main-card p {
                        font-size: 16px;
                        line-height: 1.5;
                    }
                }
                .card-active {
                    transform: translateY(-10px);
                    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
                    background-color: #1e2759;
                    opacity: 1;
                }
            }
        }
    }
</style>

<!--Modal Qu·∫£n l√Ω danh s√°ch s√¢n ch∆°i-->
<div class="modal fade" id="Modal_DsSanChoi" tabindex="-1" aria-labelledby="Modal_DsSanChoi" aria-hidden="true">
    <div class="modal-dialog   modal-xl modal-lg  modal-md ">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="">Qu·∫£n l√Ω danh s√°ch s√¢n ch∆°i </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form id="form_dsSanChoi">
                    <div class="row mb-4">


                        <div class="col-lg-4 col-md-4 col-sm-6 float-left">
                            <label>M√£ s√¢n ch∆°i:</label>
                            <select class="form-select form-select-sm1" aria-label="MaSanChoi" name="MaSanChoi" id="MaSanChoi" onchange="ActionDsSanChoi(3)">
                                <option value=""></option>
                            </select>
                        </div>
                        <!-- th√¥ng tin t√™n s√¢n ch∆°i -->
                        <div class="col-lg-4 col-md-4 col-sm-6 float-left">
                            <label>Nh·∫≠p t√™n s√¢n ch∆°i:</label> <input class="form-control form-control-sm1" type="text" value="" name="TenSanChoi" id="TenSanChoi">
                        </div>

                        <div class="col-lg-4 col-md-4 col-sm-6 float-left" hidden>
                            <label>Tab Name</Table>:</label> <input class="form-control form-control-sm1" type="text" value="TabDsSanChoi" name="tab_name" id="tab_name">
                        </div>

                        <!-- N√∫t th√™m ƒë∆°n-->
                        <div class="col float-left">
                            <button class="btn btn-outline-info mt-4 btn-add-emp" onclick="ActionDsSanChoi(1)" type="button">
                                <i class="fa fa-plus f-20 text-success"></i>L∆∞u th√¥ng tin
                            </button>
                        </div>

                    </div>
                </form>

                <div class="col-md-12 col-12">
                    <div class="modal-header">
                        <h2 class="modal-title fs-5 text-danger" id="">Danh s√°ch s√¢n ch∆°i</h2>
                    </div>

                    <table class="table text-left" id="Tab_DsSanChoi">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">MaSanChoi</th>
                                <th scope="col">TenSanChoi</th>
                                <th scope="col">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>

            </div>

            <div class="row">

            </div>

        </div>
    </div>
</div>


<!-- Modal c√†i ƒë·∫∑t S√¢n Ch∆°i -->
<div class="modal fade" id="Modal_SanChoi" tabindex="-1" aria-labelledby="Modal_SanChoi" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="">Thi·∫øt l·∫≠p s√¢n ch∆°i</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <!-- TAB QU·∫¢N L√ù S√ÇN CH∆†I -->
                <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="tab-danhsach" data-bs-toggle="tab" data-bs-target="#tabpanel-danhsach" type="button" role="tab" aria-controls="tabpanel-danhsach" aria-selected="true">üìã Danh s√°ch s√¢n ch∆°i</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="tab-thaotac" data-bs-toggle="tab" data-bs-target="#tabpanel-thaotac" type="button" role="tab" aria-controls="tabpanel-thaotac" aria-selected="false">‚öôÔ∏è C·∫•u h√¨nh s√¢n ch∆°i</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="tab-giai" data-bs-toggle="tab" data-bs-target="#tabpanel-giai" type="button" role="tab" aria-controls="tabpanel-giai" aria-selected="false">üéñÔ∏è Qu·∫£n l√Ω danh s√°ch gi·∫£i</button>
                    </li>
                </ul>

                <!-- TAB 1: DANH S√ÅCH S√ÇN CH∆†I -->
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="tabpanel-danhsach" role="tabpanel" aria-labelledby="tab-danhsach">
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <button class="btn btn-success btn-sm" onclick="ShowAddSanChoiForm()" type="button">
                                    <i class="fa fa-plus"></i> Th√™m s√¢n ch∆°i m·ªõi
                                </button>
                            </div>
                        </div>

                        <!-- Form th√™m/s·ª≠a s√¢n ch∆°i -->
                        <div id="form_sanchoi_container" class="mb-4" style="display:none;">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h5 class="card-title" id="form_title">Th√™m s√¢n ch∆°i m·ªõi</h5>
                                    <form id="form_sanchoi_add">
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label>M√£ s√¢n ch∆°i:</label>
                                                <input type="text" class="form-control" id="MaSanChoi_Add" name="MaSanChoi" placeholder="VD: SC001" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label>T√™n s√¢n ch∆°i:</label>
                                                <input type="text" class="form-control" id="TenSanChoi_Add" name="TenSanChoi" placeholder="VD: S√¢n ch∆°i A" required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 mb-3">
                                                <button type="button" class="btn btn-primary btn-sm" onclick="SaveSanChoi()" id="btn_save_sanchoi">
                                                    <i class="fa fa-save"></i> L∆∞u
                                                </button>
                                                <button type="button" class="btn btn-secondary btn-sm" onclick="HideSanChoiForm()">
                                                    <i class="fa fa-times"></i> H·ªßy
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- B·∫£ng danh s√°ch s√¢n ch∆°i -->
                        <table class="table table-hover table-bordered" id="table_danhsach_sanchoi">
                            <thead class="table-dark">
                                <tr>
                                    <th>#</th>
                                    <th>M√£ s√¢n ch∆°i</th>
                                    <th>T√™n s√¢n ch∆°i</th>
                                    <th>Tr·∫°ng th√°i</th>
                                    <th>Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Danh s√°ch s·∫Ω ƒë∆∞·ª£c n·∫°p b·∫±ng JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <!-- TAB 2: C·∫§U H√åNH S√ÇN CH∆†I -->
                    <div class="tab-pane fade" id="tabpanel-thaotac" role="tabpanel" aria-labelledby="tab-thaotac">
                        <form id="form_sanchoi">

                    <div class="row mb-4">
                        <!-- B·∫£ng s√¢n ch∆°i-->
                        <div class=" col-md-4 col-sm-6 float-left mb-4" hidden>
                            <label></label>
                            <input id="tab_name" name="tab_name" value="TabSanChoi">
                        </div>
                        <!-- Ch·ªçn s√¢n ch∆°i -->
                        <div class=" col-md-4 col-sm-6 float-left mb-4">
                            <label>Ch·ªçn s√¢n ch∆°i :</label>
                            <select class="form-select form-select" aria-label="Default select example" name="MaSanChoi" id="MaSanChoi" onchange="ActionSanChoi(3)">
                                <option value=""></option>
                            </select>
                        </div>

                        <!-- B·∫£ng danh s√°ch gi·∫£i th∆∞·ªüng -->
                        <div class="tab-ds-giai">
                            <table class="table table-hover tab-sanchoi">
                                <thead>
                                    <tr>
                                        <th>T√™n gi·∫£i th∆∞·ªüng</th>
                                        <th style="width: 150px;">Ch·ªçn qu√†</th>
                                        <th>T√™n qu√† t·∫∑ng</th>
                                        <th class="th-chooseimg">H√¨nh ·∫£nh</th>
                                        <th>H√¨nh n·ªÅn game</th>
                                        <th>Video n·ªÅn game</th>
                                        <th>N·ªÅn v√≤ng quay</th>
                                        <th>S·ªë l·∫ßn quay</th>
                                        <th>S·ªë l∆∞·ª£ng gi·∫£i</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% comment %}
                                    <tr>
                                        <td>
                                            <li class="list-group-item  list-group-item-action" onclick="setCheckBox(this)">
                                                <input class="form-check-input me-1" type="checkbox" value="" id="GT001" name="GT001">
                                                <label class="form-check-label">Gi·∫£i ƒê·∫∑c Bi·ªát</label>
                                            </li>
                                        </td>
                                        <td>
                                            <select class="form-select form-select" value="GT001" name="MaQuaTang_GT001" id="MaQuaTang_GT001">
                                                <option></option>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control img-ticket-name" id="TenQuaTang_GT001" name="TenQuaTang_GT001" value="">
                                        </td>
                                        <td>
                                            <input type="file" class="form-control load-img-ticket" accept="file_extension(,.jpg,.png,.jpeg)">
                                            <img class="card-img-ticket" src="">
                                        </td>
                                    </tr> {% endcomment %}
                                </tbody>
                            </table>
                        </div>


                        <!-- Ch·ªçn c√°c lo·∫°i gi·∫£i th∆∞·ªüng cho s√¢n ch∆°i -->
                        <div class="col-md-12 float-left mb-4">
                            <ul class="list-group list-group-horizontal-1" id="DsMaGiai">

                            </ul>
                        </div>


                        <div class=" col-md-4 col-sm-6 float-left">
                            <label></label>
                            <button class="btn btn-outline-info" onclick="ActionSanChoi(1)" type="button">
                            <i class="fa fa-check f-20 text-success"></i>
                            <span>L∆∞u th√¥ng tin</span>
                        </button>
                        </div>
                    </div>

                </form>
                    </div>

                    <!-- TAB 3: QU·∫¢N L√ù DANH S√ÅCH GI·∫¢I -->
                    <div class="tab-pane fade" id="tabpanel-giai" role="tabpanel" aria-labelledby="tab-giai">
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <button class="btn btn-success btn-sm" onclick="ShowAddGiaiForm()" type="button">
                                    <i class="fa fa-plus"></i> Th√™m gi·∫£i m·ªõi
                                </button>
                            </div>
                        </div>

                        <!-- Form th√™m/s·ª≠a gi·∫£i -->
                        <div id="form_giai_container" class="mb-4">
                            <div class="card bg-light" style="display:none;">
                                <div class="card-body">
                                    <h5 class="card-title" id="form_giai_title">Th√™m gi·∫£i m·ªõi</h5>
                                    <form id="form_giai_add">
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label>M√£ gi·∫£i:</label>
                                                <input type="text" class="form-control" id="MaGiai_Add" name="MaGiai" placeholder="VD: GT001" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label>T√™n gi·∫£i:</label>
                                                <input type="text" class="form-control" id="TenGiai_Add" name="TenGiai" placeholder="VD: Gi·∫£i ƒê·∫∑c Bi·ªát" required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 mb-3">
                                                <button type="button" class="btn btn-primary btn-sm" onclick="SaveGiai()" id="btn_save_giai">
                                                    <i class="fa fa-save"></i> L∆∞u
                                                </button>
                                                <button type="button" class="btn btn-secondary btn-sm" onclick="HideGiaiForm()">
                                                    <i class="fa fa-times"></i> H·ªßy
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- B·∫£ng danh s√°ch gi·∫£i -->
                        <table class="table table-hover table-bordered" id="table_danhsach_giai">
                            <thead class="table-dark">
                                <tr>
                                    <th>#</th>
                                    <th>M√£ gi·∫£i</th>
                                    <th>T√™n gi·∫£i</th>
                                    <th>Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Danh s√°ch s·∫Ω ƒë∆∞·ª£c n·∫°p b·∫±ng JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tho√°t</button>
            </div>
        </div>
    </div>
</div>

<!--Modal Qu·∫£n l√Ω ng∆∞·ªùi Ch∆°i-->
<div class="modal fade" id="Modal_NguoiChoi" tabindex="-1" aria-labelledby="Modal_NguoiChoi" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="max-width: 90vw;">
        <div class="modal-content">
            <!-- Header -->
            <div class="modal-header border-0">
                <div>
                    <h5 class="modal-title mb-0">
                        <i class="fa fa-users"></i> Qu·∫£n L√Ω Ng∆∞·ªùi Ch∆°i
                    </h5>
                    <small class="text-dark-50">Th√™m, s·ª≠a, x√≥a th√¥ng tin ng∆∞·ªùi ch∆°i</small>
                </div>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <!-- Body -->
            <div class="modal-body">
                <!-- SECTION 1: CONTROL PANEL -->
                <div class="card mb-4 border-primary">
                    <div class="card-header text-white">
                        <h6 class="mb-0">
                            <i class="fa fa-sliders-h"></i> ƒêi·ªÅu Khi·ªÉn
                        </h6>
                    </div>
                    <div class="card-body">
                        <div id="div_Emp">
                            <form id="form_emp">
                            <!-- Row 1: Actions & Filter -->
                            <div class="row g-3 mb-3">
                                <!-- Thao t√°c -->
                                <div class="col-md-3">
                                    <label class="form-label fw-bold">Thao T√°c</label>
                                    <select class="form-select" name="Action" id="Action">
                                        <option value="0" selected>Tra C·ª©u Th√¥ng Tin</option>
                                        <option value="1">Th√™m Th√¥ng Tin</option>
                                        <option value="2">Th√™m T·ª´ Excel</option>
                                        <option value="3">X√≥a 1 Th√¥ng Tin</option>
                                        <option value="4">X√≥a T·ª´ Excel</option>
                                        <option value="5">X√≥a To√†n B·ªô</option>
                                        <option value="6">S·ª≠a Th√¥ng Tin</option>
                                    </select>
                                </div>

                                <!-- S√¢n ch∆°i -->
                                <div class="col-md-3">
                                    <label class="form-label fw-bold">S√¢n Ch∆°i</label>
                                    <select class="form-select" name="MaSanChoi" id="MaSanChoi" onchange="ActionEmp(8)">
                                        <option value="">-- Ch·ªçn s√¢n ch∆°i --</option>
                                    </select>
                                </div>

                                <!-- L·ªçc danh s√°ch -->
                                <div class="col-md-3">
                                    <label class="form-label fw-bold">L·ªçc Danh S√°ch</label>
                                    <select class="form-select" name="Filter" id="Filter">
                                        <option value="0" selected>T·∫•t C·∫£</option>
                                        <option value="1">Ch∆∞a Quay Th∆∞·ªüng</option>
                                        <option value="2">ƒê√£ Quay Th∆∞·ªüng</option>
                                    </select>
                                </div>

                                <!-- N√∫t Th·ª±c Hi·ªán -->
                                <div class="col-md-3 d-flex align-items-end">
                                    <button type="button" class="btn btn-success w1-100" onclick="ActionEmp(0)">
                                        <i class="fa fa-check"></i> Th·ª±c Hi·ªán
                                    </button>
                                </div>
                            </div>

                            <!-- Row 2: Gi·∫£i Th∆∞·ªüng -->
                            <div class="row g-3 mb-3">
                                <div class="col-12">
                                    <label class="form-label fw-bold">Ch·ªçn Gi·∫£i Th∆∞·ªüng</label>
                                    <div class="d-flex gap-2 flex-wrap" id="DsMaGiai">
                                        <!-- Gi·∫£i s·∫Ω ƒë∆∞·ª£c load t·ª´ backend -->
                                    </div>
                                </div>
                            </div>

                            <!-- Row 3: Nh√¢n vi√™n info -->
                            <div class="row g-3 mb-3">
                                <div class="col-md-3">
                                    <label class="form-label fw-bold">M√£ D·ª± Th∆∞·ªüng</label>
                                    <input type="text" class="form-control" name="MaDuThuong" id="MaDuThuong" maxlength="5" placeholder="T·ªëi ƒëa 5 k√Ω t·ª±">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-bold">M√£ Nh√¢n Vi√™n</label>
                                    <input type="text" class="form-control" name="MaNhanVien" id="MaNhanVien" placeholder="M√£ NV">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">H·ªç T√™n Nh√¢n Vi√™n</label>
                                    <input type="text" class="form-control" name="TenNhanVien" id="TenNhanVien" placeholder="T√™n ƒë·∫ßy ƒë·ªß">
                                </div>
                                <input type="hidden" name="tab_name" id="tab_name" value="TabNguoiChoi">
                            </div>

                            <!-- Row 4: Upload Excel -->
                            <div class="row g-3">
                                <div class="col-12">
                                    <label class="form-label fw-bold">
                                        <i class="fa fa-file-excel text-success"></i> Import T·ª´ File Excel
                                        <span class="badge bg-info ms-2">T√πy Ch·ªçn</span>
                                    </label>
                                    <div class="input-group">
                                        <input type="file" class="form-control" id="listfile" name="listfile" accept=".xlsx,.xls,.csv">
                                        <button class="btn btn-primary" type="button" onclick="ActionEmp(2)">
                                            <i class="fa fa-upload"></i> Upload
                                        </button>
                                        <a href="/static/download/NguoiChoi.xlsx" class="btn btn-outline-secondary" target="_blank">
                                            <i class="fa fa-download"></i> T·∫£i Template
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                        </div>
                    </div>
                </div>

                <!-- SECTION 2: DATA TABLE -->
                <div class="card">
                    <div class="card-header text-white">
                        <h6 class="mb-0">
                            <i class="fa fa-table"></i> Danh S√°ch Ng∆∞·ªùi Ch∆°i
                        </h6>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0" id="Tab_NguoiChoi">
                                <thead class="table-light">
                                    <tr>
                                        <th width="40">#</th>
                                        <th>M√£ NV</th>
                                        <th>T√™n Nh√¢n Vi√™n</th>
                                        <th>M√£ D·ª± Th∆∞·ªüng</th>
                                        <th>Gi·∫£i Th∆∞·ªüng</th>
                                        <th>S√¢n Ch∆°i</th>
                                        <th>Ng√†y T·∫°o</th>
                                        <th width="100">Thao T√°c</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data s·∫Ω ƒë∆∞·ª£c load t·ª´ backend -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="modal-footer bg-light border-top">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="fa fa-times"></i> ƒê√≥ng
                </button>
                <button type="button" class="btn btn-primary" onclick="ActionEmp(0)">
                    <i class="fa fa-save"></i> L∆∞u & Th·ª±c Hi·ªán
                </button>
            </div>
        </div>
    </div>
</div>

<!--Modal Danh s√°ch ng∆∞·ªùi ƒë√£ tr√∫ng th∆∞·ªüng-->
<div class="modal fade" id="Modal_TrungThuong" tabindex="-1" aria-labelledby="Modal_TrungThuong" aria-hidden="true">

    <div class="modal-dialog  modal-fullscreen modal-xl modal-lg  modal-md ">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="">Qu·∫£n l√Ω danh s√°ch tr√∫ng th∆∞·ªüng </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form id="form_TrungThuong">
                    <div class="row mb-4" id="div_TrungThuong">

                        <!-- Ch·ªçn s√¢n ch∆°i -->
                        <div class="col-lg-2 col-md-3 col-sm-6 float-left mb-0">
                            <label>S√¢n ch∆°i :</label>
                            <select class="form-select form-select-sm1" aria-label="MaSanChoi" name="MaSanChoi" id="MaSanChoi" onchange="ActionTrungThuong(8)">
                                <option value="" selected=""></option>                                
                            </select>
                        </div>

                        <!-- Th·∫ª gi·∫£i th∆∞·ªüng -->
                        <div class="col-lg-10 col-md-9 col-sm-6 float-left mt-4">
                            <ul class="list-group list-group-horizontal" id="DsMaGiai">

                            </ul>
                        </div>
                        <!-- th√¥ng tin nh√¢n vi√™n -->
                        <div class="col-lg-2 col-md-3 col-sm-6 float-left mt-4">
                            <label>M√£ d·ª± th∆∞·ªüng:</label> <input class="form-control form-control-sm1" type="text" value="" maxlength="5" placeholder="T·ªëi ƒëa 5 k√Ω t·ª±" name="MaDuThuong" id="MaDuThuong">
                        </div>
                        <div class="col-lg-2 col-md-3 col-sm-6 float-left mt-4">
                            <label>M√£ nh√¢n vi√™n:</label> <input class="form-control form-control-sm1" type="text" value="" name="MaNhanVien" id="MaNhanVien">
                        </div>
                        <div class="col-lg-2 col-md-3 col-sm-6 float-left mt-4" hidden>
                            <label>H·ªç t√™n:</label> <input class="form-control form-control-sm1" type="text" value="" name="TenNhanVien" id="TenNhanVien">
                        </div>

                        <div class="col-lg-2 col-md-3 col-sm-6 float-left" hidden>
                            <label>Tab Name</Table>:</label> <input class="form-control form-control-sm1" type="text" value="TabTrungThuong" name="tab_name" id="tab_name">
                        </div>

                        <!-- N√∫t th√™m ƒë∆°n-->
                        <div class="col float-left  mt-4">
                            <button class="btn btn-outline-info mt-4 btn-add-emp" onclick="ActionTrungThuong(0)" type="button">
                                <i class="fa fa-search f-20 text-success"></i> Tra c·ª©u
                            </button>
                            <button class="btn btn-outline-info mt-4 btn-add-emp" onclick="ActionTrungThuong(1)" type="button">
                                <i class="fa fa-plus f-20 text-success"></i> L∆∞u th√¥ng tin
                            </button>
                            <button class="btn btn-outline-info mt-4 btn-add-emp" onclick="ActionTrungThuong(4)" type="button">
                                <i class="fa fa-trash f-20 text-danger"></i> X√≥a to√†n b·ªô 
                            </button>
                        </div>

                    </div>
                </form>

                <div class="col-md-12 col-12">
                    <div class="modal-header">
                        <h2 class="modal-title fs-5 text-danger" id="">Danh s√°ch ng∆∞·ªùi ƒë√£ tr√∫ng th∆∞·ªüng</h2>
                    </div>

                    <table class="table text-left" id="Tab_TrungThuong">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">MaNhanVien</th>
                                <th scope="col">TenNhanVien</th>
                                <th scope="col">MaDuThuong</th>
                                <th scope="col">MaGiai</th>
                                <th scope="col">MaSanChoi</th>
                                <th scope="col">NgayTao</th>
                                <th scope="col">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal qu·∫£n l√Ω c√°c ph·∫ßn qu√†-->
<div class="modal fade" id="Modal_GiaiThuong" tabindex="-1" aria-labelledby="Modal_GiaiThuong" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-lg  modal-md ">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="">Qu·∫£n l√Ω ph·∫ßn qu√†</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body" style="max-height: 85vh; overflow-y: auto;">
                <form id="form_giaithuong">
                    <!-- SECTION 1: FORM TH√äM/S·ª¨A PH·∫¶N QU√Ä -->
                    <div class="card mb-4 border-primary">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">
                                <i class="fa fa-gift"></i> Th√™m/S·ª≠a Ph·∫ßn Qu√†
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row g-3">
                                <!-- M√£ ph·∫ßn qu√† -->
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">M√£ Ph·∫ßn Qu√† <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control form-control-lg" name="MaGiaiThuong" id="MaGiaiThuong" placeholder="VD: 0001" required>
                                    <small class="text-muted">M√£ ƒë·ªãnh danh duy nh·∫•t cho ph·∫ßn qu√†</small>
                                </div>
                                
                                <!-- T√™n ph·∫ßn qu√† -->
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">T√™n Ph·∫ßn Qu√† <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control form-control-lg" name="TenGiaiThuong" id="TenGiaiThuong" placeholder="VD: iPhone 16 Pro" required>
                                    <small class="text-muted">T√™n hi·ªÉn th·ªã c·ªßa ph·∫ßn qu√†</small>
                                </div>

                                <!-- N√∫t h√†nh ƒë·ªông -->
                                <div class="col-12">
                                    <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                                        <button type="button" class="btn btn-success btn-lg" onclick="ActionGiaiThuong(1)" id="btn-save-gift">
                                            <i class="fa fa-save"></i> Th√™m M·ªõi
                                        </button>
                                        <button type="button" class="btn btn-warning btn-lg" onclick="ActionGiaiThuong(4)" id="btn-edit-gift" style="display:none;">
                                            <i class="fa fa-edit"></i> C·∫≠p Nh·∫≠t
                                        </button>
                                        <button type="button" class="btn btn-secondary btn-lg" onclick="ClearGiftForm()" id="btn-clear-gift" style="display:none;">
                                            <i class="fa fa-times"></i> H·ªßy
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 2: DANH S√ÅCH PH·∫¶N QU√Ä -->
                    <div class="card">
                        <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">
                                <i class="fa fa-list"></i> Danh S√°ch Ph·∫ßn Qu√†
                            </h5>
                            <span class="badge bg-light text-dark" id="gift-count">0</span>
                        </div>
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-hover table-striped mb-0">
                                    <thead class="table-light">
                                        <tr>
                                            <th style="width: 5%;">#</th>
                                            <th style="width: 15%;">M√£ Ph·∫ßn Qu√†</th>
                                            <th style="width: 30%;">T√™n Ph·∫ßn Qu√†</th>
                                            <th style="width: 15%;" class="text-center">H√¨nh ·∫¢nh</th>
                                            <th style="width: 20%;" class="text-center">Upload ·∫¢nh</th>
                                            <th style="width: 15%;" class="text-center">Thao T√°c</th>
                                        </tr>
                                    </thead>
                                    <tbody id="gift-table-body">
                                        <!-- Danh s√°ch s·∫Ω ƒë∆∞·ª£c n·∫°p b·∫±ng JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Hidden input -->
                    <input id="tab_name" name="tab_name" value="TabGiaiThuong" hidden>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tho√°t</button>
            </div>
        </div>
    </div>
</div>

<!-- ============================================================================= -->
<!-- MODAL C√ÄI ƒê·∫∂T CHUNG (Settings) -->
<!-- ============================================================================= -->
<div class="modal fade" id="Modal_Setting" tabindex="-1" aria-labelledby="Modal_Setting" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="max-width: 70vw;">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">
                    <i class="fa fa-cog"></i> C√†i ƒê·∫∑t Chung
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="max-height: 85vh; overflow-y: auto;">
                <form id="form_settings">
                    <!-- SECTION 1: HI·ªÜU ·ª®NG -->
                    <div class="card mb-4 border-primary">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">
                                <i class="fa fa-sparkles"></i> Hi·ªáu ·ª®ng ƒê·∫∑c Bi·ªát
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_snow" name="effect_snow" data-effect="snow">
                                        <label class="form-check-label" for="effect_snow">‚ùÑÔ∏è Tuy·∫øt r∆°i</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_particles" name="effect_particles" data-effect="particles">
                                        <label class="form-check-label" for="effect_particles">‚ú® H·∫°t t·ª≠</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_stars" name="effect_stars" data-effect="stars">
                                        <label class="form-check-label" for="effect_stars">‚≠ê M∆∞a sao</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_bubbles" name="effect_bubbles" data-effect="bubbles">
                                        <label class="form-check-label" for="effect_bubbles">üéà Bong b√≥ng</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_rainbow" name="effect_rainbow" data-effect="rainbow">
                                        <label class="form-check-label" for="effect_rainbow">üåà C·∫ßu v·ªìng</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_1" name="effect_fireworks_1" data-effect="fireworks_1">
                                        <label class="form-check-label" for="effect_fireworks_1">üéÜ Hi·ªáu ·ª©ng ph√°o ƒÉn m·ª´ng</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_2" name="effect_fireworks_2" data-effect="fireworks_2">
                                        <label class="form-check-label" for="effect_fireworks_2">üéÜ Hi·ªáu ·ª©ng ph√°o d√†n</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_3" name="effect_fireworks_3" data-effect="fireworks_3">
                                        <label class="form-check-label" for="effect_fireworks_3">üéÜ Hi·ªáu ·ª©ng ch·∫°y</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_4" name="effect_fireworks_4" data-effect="fireworks_4">
                                        <label class="form-check-label" for="effect_fireworks_4">üéÜ Hi·ªáu ·ª©ng d√†n ƒëom ƒë√≥m</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_5" name="effect_fireworks_5" data-effect="fireworks_5">
                                        <label class="form-check-label" for="effect_fireworks_5">üéÜ Hi·ªáu ·ª©ng ph√°o b√¥ng</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_6" name="effect_fireworks_6" data-effect="fireworks_6">
                                        <label class="form-check-label" for="effect_fireworks_6">üéÜ Hi·ªáu ·ª©ng ph√°o b·∫Øn t·ªâa</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input effect-checkbox" type="checkbox" id="effect_fireworks_7" name="effect_fireworks_7" data-effect="fireworks_7">
                                        <label class="form-check-label" for="effect_fireworks_7">üéÜ Hi·ªáu ·ª©ng ph√°o hoa b√¥ng</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 2: H√åNH N·ªÄN -->
                    <div class="card">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0">
                                <i class="fa fa-image"></i> H√¨nh N·ªÅn
                            </h5>
                        </div>
                        <div class="card-body">
                            <!-- TAB CH·ªåN H√åNH N·ªÄN -->
                            <ul class="nav nav-tabs mb-4" id="bgTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="tab-bg-video" data-bs-toggle="tab" data-bs-target="#panel-bg-video" type="button" role="tab" aria-controls="panel-bg-video" aria-selected="true">
                                        <i class="fa fa-video"></i> Video
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="tab-bg-image" data-bs-toggle="tab" data-bs-target="#panel-bg-image" type="button" role="tab" aria-controls="panel-bg-image" aria-selected="false">
                                        <i class="fa fa-image"></i> H√¨nh ·∫¢nh
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="tab-bg-upload" data-bs-toggle="tab" data-bs-target="#panel-bg-upload" type="button" role="tab" aria-controls="panel-bg-upload" aria-selected="false">
                                        <i class="fa fa-cloud-upload"></i> T·∫£i L√™n
                                    </button>
                                </li>
                            </ul>

                            <!-- PANEL 1: CH·ªåN VIDEO -->
                            <div class="tab-content" id="bgTabsContent">
                                <div class="tab-pane fade show active" id="panel-bg-video" role="tabpanel" aria-labelledby="tab-bg-video">
                                    <div class="row g-3" id="video-list">
                                        <!-- Video items s·∫Ω ƒë∆∞·ª£c n·∫°p b·∫±ng JavaScript -->
                                    </div>
                                </div>

                                <!-- PANEL 2: CH·ªåN H√åNH ·∫¢NH -->
                                <div class="tab-pane fade" id="panel-bg-image" role="tabpanel" aria-labelledby="tab-bg-image">
                                    <div class="row g-3" id="image-list">
                                        <!-- Image items s·∫Ω ƒë∆∞·ª£c n·∫°p b·∫±ng JavaScript -->
                                    </div>
                                </div>

                                <!-- PANEL 3: T·∫¢I H√åNH ·∫¢NH L√äN -->
                                <div class="tab-pane fade" id="panel-bg-upload" role="tabpanel" aria-labelledby="tab-bg-upload">
                                    <div class="card border-info">
                                        <div class="card-body">
                                            <div class="mb-3">
                                                <label class="form-label fw-bold">Ch·ªçn H√¨nh ·∫¢nh</label>
                                                <input type="file" class="form-control form-control-lg" id="bg_upload_file" name="bg_upload_file" accept=".jpg,.jpeg,.png,.gif,.webp" multiple>
                                                <small class="text-muted d-block mt-2">H·ªó tr·ª£: JPG, PNG, GIF, WebP | K√≠ch th∆∞·ªõc t·ªëi ƒëa: 5MB/file</small>
                                            </div>
                                            <div class="d-grid gap-2">
                                                <button type="button" class="btn btn-success btn-lg" onclick="UploadBackgroundImage()">
                                                    <i class="fa fa-upload"></i> T·∫£i L√™n
                                                </button>
                                            </div>
                                            <div id="upload-progress" class="mt-3" style="display: none;">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" id="progress-bar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 3: PREVIEW & SAVE -->
                    <div class="card mt-4">
                        <div class="card-header bg-warning text-dark">
                            <h5 class="mb-0">
                                <i class="fa fa-save"></i> C√†i ƒê·∫∑t
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="d-grid gap-2 d-md-flex">
                                <button type="button" class="btn btn-primary btn-lg" onclick="SaveSettings()">
                                    <i class="fa fa-save"></i> L∆∞u C√†i ƒê·∫∑t
                                </button>
                                <button type="button" class="btn btn-secondary btn-lg" onclick="ResetSettings()">
                                    <i class="fa fa-redo"></i> ƒê·∫∑t L·∫°i M·∫∑c ƒê·ªãnh
                                </button>
                                <button type="button" class="btn btn-info btn-lg" data-bs-dismiss="modal">
                                    <i class="fa fa-times"></i> ƒê√≥ng
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>